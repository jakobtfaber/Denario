# API keys

Denario needs access to LLMs to work. Denario currently relies on LLMs from Google (gemeini series), OpenAI (GPT and o series), Anthropic (claude), Perplexity (sonar) and agents from [Futurehouse](https://platform.futurehouse.org/) (Owl). 

You don't need access to all these models to experiment with Denario. Howvere, you must configure access to **at least OpenAI and Gemini** APIs. 

Access to these providers is done via API keys that are created on the providers' platform and set in your environment variables. 

You will need to add some credit on these platforms as most of these LLM accesses come at a cost (although relatively small if you intend to just experiment). 

### How much money do I need?

With \$10 you should be able to generate hundres of ideas, methods, and write hundreds of papers provided you have already done the analysis. Running the analysis (getting the actual results) will remain very cheap if you use light models, like gpt-4o-mini. Almost all of the paper obtained with the first public release of Denario were obtained with either gemini-2.5-pro or gpt-4.1. These models are heavier and more expensive. Generating research analysis for one idea will copst you around \$2-\$5.



### Is there any risk of overspending?

You should carefully monitor your usage of the LLM provider platforms you are using. Never share your API keys, and always keep an eye on the work being generated by Denario to make sure you are nost wasting money on the system being stuck on an indentation bug it can't fix. The same precautions apply as for other AI automation tools like Claude Code, or Cursor agents. 


### Will I hit any rate limits?

If you are new to this type of technology, it is very likely that you will hit token rate limits while using openai models. This means that Denario will stop working for a certain amount of time because you have generated too much text/code. To increase your token rate limits check [this page](https://platform.openai.com/docs/guides/rate-limits). 

## OpenAI API keys 

In order to get an OpenAI API key go to [this website](https://platform.openai.com/api-keys) and get your OpenAI API key.

## Gemini API keys

To get a Gemini API key go to [this website](https://ai.google.dev/gemini-api/docs/api-key) and click in the first link (Google AI studio). You can then get your API key there.

## Anthropic API keys

To get an Anthropic API key go to [this website](https://console.anthropic.com/settings/keys) and get your Anthropic API key there.

## Perplexity API keys

To get a perplexity API key go to [this wbsite](https://docs.perplexity.ai/getting-started/quickstart) and get your Perplexity API key there.

## Vertex AI

In Denario, agents built with LangGraph can be run using a Gemini API key (see above on how to create a Gemini API Key). However, agents built using [AG2](https://ag2.ai/), require a different setup to access Gemini models. 

In this case, you need to access the Gemini models via the [Vertex AI](https://cloud.google.com/vertex-ai?hl=en) API. 

If you plan to run the analysis module with Gemini models (necessarily accessed through Vertex AI), e.g.:

```python
den.get_results(engineer_model='gemini-2.5-pro',
	        researcher_model='gemini-2.5-pro')
```

you need to:
- create Google service account key fil (a JSON file – see instructions below)
- download it on the machine where you run Denario
- rename it `gemini.json` 
- set a `GOOGLE_APPLICATION_CREDENTIALS` environment variable with the path to that file, i.e., 

```bash
export GOOGLE_APPLICATION_CREDENTIALS=/path/to/gemini.json
```

Whenever you run Denario and need Vertex AI access, this environment variable should be correctly set. 


To enable Vertex AI, you first need a Google account (if you don't yet have a Google account, visit [this page](https://www.google.com/intl/en-GB/account/about/) and create one).

Vertex AI is part of Google Cloud, to activate the Vertex AI API, we first log into Google Cloud. Follow [this link](https://console.cloud.google.com/) and log in with you Google account. This opens the Google CLoud Console page.

### Create a Googel Cloud Project

Onn the top left of the Google Cloud Console page after you signed-in, click the "Select a project" button and select a project you would like to use if you have lalready got on, or click "New project" on the top right of the pop-up window. In this case, give a name to the new project – we will call the project "denario" herafter.

Once the project is created, you should be able to select it by clicking the "Select a project" button on the Console page. 

### Enable Vertex AI API

Once you have selected the denario project, its name should appear next to the Google Cloud logo.Click the dropdown Navigation (three horizontal lines) menu on the left of the logo and look for Vertex AI. Hover over Vertex AI and select "Dashboard". Then click "Enable all recommended APIs". 


### Create Service Account Key


Now, in the Navigation menu, look for "IAM & Admin" and select "Service Accounts". Then:

- In the top bar, click the "Create Service Account" button. 
- Give a name, e.g., "denario". (You can skip the "Service Account Description".)
- Click "Create and Continue"
- Then in Select a Role, enter "Vertex AI User" and select it. Click "Continue". 
- Skip the "Principals with access" field. Click "Done". 

You should see a list bview of your account, with a name like: 

- `denario@denario-1234.iam.gserviceaccount.com`

On the right, next to the name, click the three dots under "Actions" and select "Manage Keys". 
Then click the "Add key" dropdown and select "Create new key". Select type "JSON". This will download the JSON file to your machine. You can rename this file as `gemini.json`.

### Enable Billing

You must enable billing (i.e., add payment method) for your Cloud project before you can use VertexAI models:

- Click on the navigation menu
- Select Billing
- Click "Link a billing account". A pop-up will prompt you with "create a billing account". Select. 
- Chose the country, and enter contact information.
- Select payment method and add a credit/debit card. 

This should set you up.


## FutureHouse 

We use [FutureHouse](https://www.futurehouse.org/)'s Owl agent for precedent search (checking if an idea has been explored before). Visit [this page](https://platform.futurehouse.org/) and create your API key. 

## Where to put API keys?

In order to use the different keys, you can either

1. Add these lines (inserting your API keys) to your `~/.bashrc` file (or `~/.bash_profile`). If you dont have an optional API key (e.g. Anthropic), leave the API key value blank.

```sh
export GOOGLE_API_KEY=your_gemini_api_key
export GOOGLE_APPLICATION_CREDENTIALS=path/to/gemini.json
export OPENAI_API_KEY=your_openai_api_key
export PERPLEXITY_API_KEY=your_perplexity_api_key
export ANTHROPIC_API_KEY=your_anthropic_api_key
export FUTURE_HOUSE_API_KEY=your_fh_key
```

2. Copy and paste these lines (inserting your API keys) to your terminal. If you dont have an optional API key (e.g. Anthropic), leave the API key value blank.

```sh
export GOOGLE_API_KEY=your_gemini_api_key
export GOOGLE_APPLICATION_CREDENTIALS=path/to/gemini.json
export OPENAI_API_KEY=your_openai_api_key
export PERPLEXITY_API_KEY=your_perplexity_api_key
export ANTHROPIC_API_KEY=your_anthropic_api_key
export FUTURE_HOUSE_API_KEY=your_fh_key
```

3. In the folder where you plan to run Denario, create a ``.env`` file and put inside that file this:

```sh
GOOGLE_API_KEY=your_gemini_api_key
GOOGLE_APPLICATION_CREDENTIALS=path/to/gemini.json
OPENAI_API_KEY=your_openai_api_key
PERPLEXITY_API_KEY=your_perplexity_api_key
ANTHROPIC_API_KEY=your_anthropic_api_key
FUTURE_HOUSE_API_KEY=your_fh_key
```